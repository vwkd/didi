TODO:
- boolean_value
- number
- identifier
- lit_string
- comments, should probably be `/* */` such that can put them simply wherever whitespace instead of needing concept of lines with new line

program
  ws var_defs ws statements ws

var_defs
  var_def
  var_def ws var_defs

var_def
  value ws "=" ws identifer

value
  block
  str_value
  num_value
  boolean_value
// note: allows variable in block of variable, must protect against infinite loop of circular definition
// todo: define a var_defs_NOMATCH

boolean_value
  boolean_value_raw
  boolean_value_raw ws boolean_operator ws boolean_value_raw

statements
  statement
  statement ws statements

statement
  doing

doing
  eat
  maybe_eat

## EAT

eat
  meal

meal
  match
  no_match

match
  unnamed_match
  named_match

unnamed_match
  str ws ";"

named_match
  str ws "@" identifier ws ";"

str
  str_value
  str_value ws repetition

// REPETITION

repetition
  rep_amount
  rep_amount ws rep_mode

rep_amount
  amount
  variable

amount
  lit_number
  lit_sequence

lit_number
  number
// todo: number

lit_sequence
  array_of_numbers
  range

array_of_numbers
  "[" ws numbers_list ws "]"

numbers_list
  number
  number ws numbers_list

range
  ".."
  number ".."
  ".." number
  number ".." number

variable
  identifier
// todo: delete variable for identifier directly

rep_mode
  "<"

## STR_VALUE

str_value
  str_value_raw
  string_operator ws str_value_raw

string_operator
  "-"
  "~"

str_value_raw
  lit_string
  block
  variable

block
  "{" ws statement ws "}" ##### RECURSION

## MAYBE_EAT

maybe_eat
  conditions ws "?" ws str

conditions
  condition
  condition ws boolean_operator ws conditions

boolean_operator
  "&"
  "|"

condition
  boolean_value
  str_value_NOMATCH

str_value_NOMATCH
  str_value_raw_NOMATCH
  string_operator ws str_value_raw_NOMATCH

str_value_raw_NOMATCH
  lit_string
  block_NOMATCH
  variable

block
  "{" ws statement_NOMATCH ws "}"

statement_NOMATCH
  doing_NOMATCH

doing_NOMATCH
  eat_NOMATCH
  maybe_eat ##### RECURSION

eat_NOMATCH
  meal_NOMATCH

meal_NOMATCH
  no_match
// todo: delete meal in favour of directly
